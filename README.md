# 爬取新浪财经券商研报

从新浪财经的券商研报中爬取报告，并按类型、按月存入 csv 文件中。

## 网站

https://stock.finance.sina.com.cn/stock/go.php/vReport_List/kind/search/index.phtml

## 思路

给出起止日期和保存路径，循环爬取网站，将对应内容保存到 csv 文件中，按报告类型和月份分类。

## 使用方式

1. 解除最后的注释部分。
2. 修改参数：

   1. start_date：爬取的开始日期
   2. end_date：爬取的结束日期，默认为 None，即为当日
   3. saving_path：代码的保存文件夹。

3. 运行代码

## 注意事项

1. 新浪财经存在一定的反爬。只要特定 ip 在一段时间内执行爬取任务，即使每次请求间隔一分钟以上，也会被检测到，造成爬取失败。因此，最好使用代理池（广告位招租）。如需使用代理池，请自行修改`proxies={}`的部分。

## 本次更新

完成了上次的 Todo 任务，修改了指定报告类型的部分，新增指定报告类型的可选项，需要覆盖网站提供的全部类型，并提供多选、全选的便捷操作，而非使用循环。

## Todo

1. 对于个股，获取代码的方式应改为动态。后续更新应该避免从本地文件查表，而是找在线接口等。
2. （困难）对于其他类型的报告，尽可能找到分类方式。
